<!DOCTYPE html>
<html>
<head>
    <title>Debug Test</title>
</head>
<body>
    <h1>Debug Translation Test</h1>
    <button id="testBtn">Test Translation</button>
    <div id="results"></div>

    <script src="js/components/data-loader.js"></script>
    <script src="js/components/translator.js"></script>
    <script>
        document.getElementById('testBtn').addEventListener('click', async function() {
            console.log('=== STARTING DEBUG TEST ===');

            // Wait for everything to be ready
            await new Promise(resolve => {
                const checkReady = () => {
                    if (typeof pidginDataLoader !== 'undefined' && pidginDataLoader.loaded &&
                        typeof pidginTranslator !== 'undefined') {
                        resolve();
                    } else {
                        setTimeout(checkReady, 100);
                    }
                };
                checkReady();
            });

            console.log('Data and translator ready');

            // Force initialize
            pidginTranslator.tryInitialize();

            // Test translation
            console.log('Testing translation of "hello"...');
            const result = pidginTranslator.translate('hello', 'eng-to-pidgin');
            console.log('Translation result:', result);

            document.getElementById('results').innerHTML =
                '<pre>' + JSON.stringify(result, null, 2) + '</pre>';
        });
    </script>
</body>
</html>