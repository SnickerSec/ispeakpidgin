<!DOCTYPE html>
<html>
<head>
    <title>Test Alphabet Counts</title>
</head>
<body>
    <h1>Testing Alphabet Counts</h1>
    <div id="results"></div>

    <script src="public/js/components/data-loader.js"></script>
    <script src="public/js/components/dictionary.js"></script>

    <script>
        async function testAlphabet() {
            const resultsDiv = document.getElementById('results');

            // Wait for data to load
            await new Promise(resolve => {
                const checkInterval = setInterval(() => {
                    if (pidginDataLoader && pidginDataLoader.loaded) {
                        clearInterval(checkInterval);
                        resolve();
                    }
                }, 100);
            });

            resultsDiv.innerHTML = '<h2>Letter Counts:</h2>';

            const alphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('');
            for (const letter of alphabet) {
                const entries = pidginDataLoader.getByLetter(letter);
                const count = entries.length;

                if (count > 0) {
                    resultsDiv.innerHTML += `<p>${letter}: ${count} words</p>`;
                    console.log(`${letter}: ${count} words`);

                    // Show first few examples
                    const examples = entries.slice(0, 3).map(e => e.pidgin).join(', ');
                    resultsDiv.innerHTML += `<small style="margin-left: 20px">Examples: ${examples}</small><br>`;
                }
            }

            resultsDiv.innerHTML += `<h3>Total entries: ${pidginDataLoader.getAllEntries().length}</h3>`;
        }

        document.addEventListener('DOMContentLoaded', testAlphabet);
    </script>
</body>
</html>